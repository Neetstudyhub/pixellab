<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Sitemap of Blog Posts</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h1 { color: #333; }
    ul { list-style: none; padding: 0; }
    li { margin-bottom: 8px; }
    a { text-decoration: none; color: #1a0dab; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <h1>Sitemap of Blog Posts</h1>
  <ul id="posts">Loading posts...</ul>
  
  <script>
    // API URL that returns your blog posts.
    const apiUrl = 'https://broken-hall-68ac.earnmoney100a.workers.dev';
    // Base URL for your post links.
    const baseUrl = 'https://neetstudyhub.github.io/pixellab/post?postId=';

    // If you run into CORS issues, you can use a free CORS proxy like All Origins.
    // Uncomment the next two lines if needed:
    // const proxyUrl = 'https://api.allorigins.hexocode.repl.co/get?disableCache=true&url=';
    // const fetchUrl = proxyUrl + encodeURIComponent(apiUrl);
    
    const fetchUrl = apiUrl;  // Use this if no CORS issue occurs.

    fetch(fetchUrl)
      .then(response => {
        if (!response.ok) throw new Error('Network response was not ok');
        return response.json();
      })
      .then(posts => {
        const postsList = document.getElementById('posts');
        postsList.textContent = ''; // Clear "Loading posts..." text
        posts.forEach(post => {
          // Adjust the property name if your API uses something other than "id" or "postId"
          const postId = post.id || post.postId;
          if (!postId) return;
          const li = document.createElement('li');
          const link = document.createElement('a');
          link.href = baseUrl + postId;
          link.textContent = 'Post ' + postId;
          li.appendChild(link);
          postsList.appendChild(li);
        });
      })
      .catch(error => {
        console.error('Error fetching posts:', error);
        document.getElementById('posts').textContent = 'Error loading posts.';
      });
  </script>
</body>
</html>
